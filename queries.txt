PREFIX foaf: <http://xmlns.com/foaf/0.1/>
PREFIX ep: <http://www.semanticweb.org/mtlaurentys/ontologies/2019/10/mac0444-ep#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

1) Substituir o nome atual pelo nome do diretor desejado
SELECT distinct ?Name
    WHERE {
    ?diretor foaf:firstName "Sofia"^^xsd:string.
    ?diretor foaf:familyName "Coppola"^^xsd:string.
    ?Filmes ep:dirigidoPor ?diretor.
    ?Filmes ep:name ?Name.
} ORDER BY ASC(?Name)

2) Substituir nome do filme atual pelo nome desejado
SELECT ?First ?Last ?Personagem
WHERE {
    ?Filme ep:name "Fall"^^xsd:string.
    ?Filme ep:temAtores ?Actors.
    ?Actors foaf:firstName ?first.
    ?Actors foaf:familyName ?last.
    ?Actors ep:atuaComo ?personagem.
    ?Filme ep:temPersonagem ?personagem.
} ORDER BY ASC(?first) ASC(?last) 

3) Substiruir nomes de ambos os atores
SELECT ?Filme ?Diretor ?Lancamento
WHERE {
    ?ator1 foaf:firstName "Sofia"^^xsd:string.
    ?ator1 foaf:familyName "Coppola"^^xsd:string.
    ?ator2 foaf:firstName "Marianna"^^xsd:string.
    ?ator2 foaf:familyName "Hill"^^xsd:string.
    ?Filme ep:temAtores ?ator1.
    ?Filme ep:temAtores ?ator2.
    ?Filme ep:dirigidoPor ?Diretor.
    ?Filme ep:lancamento ?Lancamento.
} ORDER BY DESC(?Lancamento) 

4)
SELECT ?Filmes ?Duracao ?ator
WHERE {
    ?Filme ep:name "The Godfather".
    ?Filme ep:dirigidoPor ?Diretor.
    {
        ?ator foaf:firstName "Sofia"^^xsd:string.
        ?ator foaf:familyName "Coppola"^^xsd:string.
    }
    UNION {
        ?ator foaf:firstName "Marianna"^^xsd:string.
        ?ator foaf:familyName "Hill"^^xsd:string.
    }
    ?Filmes ep:temAtores ?ator.
    ?Filmes ep:duration ?Duracao.
} ORDER BY ASC(?Duracao) 

5)
SELECT distinct ?First ?Lastmily.
WHERE {
    ?pessoa ep:dirige ?filme1.
    ?pessoa ep:atuaNo ?filme2.
    ?pessoa foaf:firstName ?First.
    ?pessoa foaf:familyName ?Last.
}

6) Change dates and actor names for different results
SELECT ?Diretores ?Ano
WHERE {
    ?Filme ep:lancamento ?Ano.
    FILTER(?Ano < 1980).
    FILTER(?Ano > 1959).
    ?ator1 foaf:firstName "Sofia"^^xsd:string.
    ?ator1 foaf:familyName "Coppola"^^xsd:string.
    ?ator2 foaf:firstName "Marianna"^^xsd:string.
    ?ator2 foaf:familyName "Hill"^^xsd:string.
    ?Filme ep:temAtores ?ator1.
    ?Filme ep:temAtores ?ator2.
    ?Filme ep:dirigidoPor ?Diretores.
}

7)Change the initial and final duration
SELECT ?Filme ?Atriz ?Ator
WHERE {
    {
        SELECT ?Filme {
        ?Filme ep:duration ?Duracao.
        FILTER(?Duracao < 120).
        FILTER(?Duracao > 0).
        } LIMIT 1
    }
    ?Filme ep:temAtores ?Atriz.
    ?Filme ep:temAtores ?Ator.
    ?Atriz a ep:Atriz.
    ?Ator a ep:Ator.
}

8)
SELECT ?Diretor (COUNT(*) AS ?contador)
WHERE {
    ?ator
        foaf:firstName "Bill"^^xsd:string;
        foaf:familyName "Murray"^^xsd:string.
    ?ator ep:atuaNo ?filme.
    ?Diretor ep:dirige ?filme.
}
GROUP BY (?Diretor)
ORDER BY DESC(?contador)
LIMIT 1 

9) Change first and last name of actor
SELECT ?Ator ?Filme ?Ano ?Personagem
WHERE {
    ?Ator foaf:firstName "Talia"^^xsd:string;
          foaf:familyName "Shire"^^xsd:string.
    ?Filme ep:temAtores ?Ator.
    ?Filme ep:lancamento ?Ano.
    ?Ator ep:atuaComo ?Personagem.
    ?Filme ep:temPersonagem ?Personagem.
} ORDER BY ASC(?Ano) LIMIT 1

10)
SELECT ?Nome ?duracao
WHERE {
    ?diretor foaf:firstName "Sofia"^^xsd:string.
    ?diretor foaf:familyName "Coppola"^^xsd:string.
    ?filme ep:dirigidoPor ?diretor.
    ?filme ep:name ?Nome.
    ?filme ep:duration ?duracao.
}
ORDER BY DESC (?duracao)
LIMIT 1